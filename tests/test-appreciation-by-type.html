<!DOCTYPE html>
<html>
<head>
    <title>Property Appreciation by Type Test</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../styles/design-system.css">
</head>
<body class="bg-gray-50 p-8">
    <div class="max-w-7xl mx-auto">
        <h1 class="text-3xl font-bold mb-8">Property Appreciation by Location & Type</h1>
        
        <!-- Toronto Examples -->
        <div class="mb-12">
            <h2 class="text-2xl font-bold mb-6">Toronto Market (Base: 5.5%)</h2>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div>
                    <h3 class="text-lg font-semibold mb-2">Toronto Detached House</h3>
                    <div id="toronto-detached"></div>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-2">Toronto Condo</h3>
                    <div id="toronto-condo"></div>
                </div>
            </div>
        </div>
        
        <!-- Hamilton Examples -->
        <div class="mb-12">
            <h2 class="text-2xl font-bold mb-6">Hamilton Market (Base: 6.5%)</h2>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div>
                    <h3 class="text-lg font-semibold mb-2">Hamilton Townhouse</h3>
                    <div id="hamilton-townhouse"></div>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-2">Hamilton Semi-Detached</h3>
                    <div id="hamilton-semi"></div>
                </div>
            </div>
        </div>
        
        <!-- Vancouver Examples -->
        <div class="mb-12">
            <h2 class="text-2xl font-bold mb-6">Vancouver Market (Base: 6.0%)</h2>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div>
                    <h3 class="text-lg font-semibold mb-2">Vancouver Detached House</h3>
                    <div id="vancouver-detached"></div>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-2">Vancouver Duplex</h3>
                    <div id="vancouver-duplex"></div>
                </div>
            </div>
        </div>
        
        <!-- Summary Table -->
        <div class="bg-white rounded-lg shadow p-6">
            <h2 class="text-xl font-bold mb-4">Property Type Appreciation Factors</h2>
            <div class="overflow-x-auto">
                <table class="w-full text-sm">
                    <thead>
                        <tr class="border-b">
                            <th class="text-left py-2">Property Type</th>
                            <th class="text-right py-2">Adjustment Factor</th>
                            <th class="text-left py-2 pl-4">Reasoning</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="border-b">
                            <td class="py-2 font-semibold">Detached House</td>
                            <td class="text-right py-2 text-green-600">+15%</td>
                            <td class="pl-4 py-2 text-gray-600">Land value, privacy, family preference</td>
                        </tr>
                        <tr class="border-b">
                            <td class="py-2 font-semibold">Duplex/Triplex</td>
                            <td class="text-right py-2 text-green-600">+10%</td>
                            <td class="pl-4 py-2 text-gray-600">Investment property, rental income potential</td>
                        </tr>
                        <tr class="border-b">
                            <td class="py-2 font-semibold">Semi-Detached</td>
                            <td class="text-right py-2 text-green-600">+5%</td>
                            <td class="pl-4 py-2 text-gray-600">Good balance of affordability and space</td>
                        </tr>
                        <tr class="border-b">
                            <td class="py-2 font-semibold">Townhouse</td>
                            <td class="text-right py-2 text-gray-600">0%</td>
                            <td class="pl-4 py-2 text-gray-600">Market average appreciation</td>
                        </tr>
                        <tr class="border-b">
                            <td class="py-2 font-semibold">Loft</td>
                            <td class="text-right py-2 text-orange-600">-10%</td>
                            <td class="pl-4 py-2 text-gray-600">Niche market, conversion properties</td>
                        </tr>
                        <tr class="border-b">
                            <td class="py-2 font-semibold">Condo/Apartment</td>
                            <td class="text-right py-2 text-red-600">-15%</td>
                            <td class="pl-4 py-2 text-gray-600">Maintenance fees, no land ownership</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script type="module">
        import { PropertyAppreciationChart } from '../components/analysis/PropertyAppreciationChart.js';
        
        // Test different property types in different markets
        const testProperties = [
            {
                id: 'toronto-detached',
                data: {
                    address: '123 Main Street, Toronto, ON',
                    price: 1500000,
                    propertyType: 'Detached'
                }
            },
            {
                id: 'toronto-condo',
                data: {
                    address: '456 King Street, Toronto, ON',
                    price: 750000,
                    propertyType: 'Condo'
                }
            },
            {
                id: 'hamilton-townhouse',
                data: {
                    address: '789 Queen Street, Hamilton, ON',
                    price: 650000,
                    propertyType: 'Townhouse'
                }
            },
            {
                id: 'hamilton-semi',
                data: {
                    address: '321 King Street, Hamilton, ON',
                    price: 750000,
                    propertyType: 'Semi-Detached'
                }
            },
            {
                id: 'vancouver-detached',
                data: {
                    address: '555 Oak Street, Vancouver, BC',
                    price: 2500000,
                    propertyType: 'House'
                }
            },
            {
                id: 'vancouver-duplex',
                data: {
                    address: '777 Main Street, Vancouver, BC',
                    price: 1800000,
                    propertyType: 'Duplex'
                }
            }
        ];
        
        // Render all charts
        testProperties.forEach(property => {
            document.getElementById(property.id).innerHTML = PropertyAppreciationChart({
                propertyData: property.data,
                currentValue: property.data.price
            });
        });
        
        // Calculate and display expected rates
        console.log('Expected Appreciation Rates:');
        console.log('Toronto Detached: 5.5% × 1.15 = 6.3%');
        console.log('Toronto Condo: 5.5% × 0.85 = 4.7%');
        console.log('Hamilton Townhouse: 6.5% × 1.0 = 6.5%');
        console.log('Hamilton Semi: 6.5% × 1.05 = 6.8%');
        console.log('Vancouver Detached: 6.0% × 1.15 = 6.9%');
        console.log('Vancouver Duplex: 6.0% × 1.10 = 6.6%');
    </script>
</body>
</html>